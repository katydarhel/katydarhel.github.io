<!DOCTYPE html>
<html lang="en">
<head>
    <title>Verlet Shapes</title>
    <meta charset="UTF-8" />
    <!--<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen, projection" />-->
    <link href='http://fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic' rel='stylesheet' type='text/css'>
    <script type="text/javascript" src="http://subprotocol.com/js/verlet-1.0.0.min.js"></script>
</head>
<body>
<!--<script type="text/javascript" src="../site/js/common.js"></script>-->
<canvas id="scratch" style="width: 1500px; height: 1000px;"></canvas>
<script type="text/javascript">

    window.onload = function() {
        var canvas = document.getElementById("scratch");

        // canvas dimensions
        var width = parseInt(canvas.style.width);
        var height = parseInt(canvas.style.height);

        // retina
        var dpr = window.devicePixelRatio || 1;
        canvas.width = width*dpr;
        canvas.height = height*dpr;
        canvas.getContext("2d").scale(dpr, dpr);

        // simulation
        var sim = new VerletJS(width, height, canvas);
        sim.friction = 1;

        // entities
        var segs = [];
        for(var i = 1; i < 50; i++) {
            segs.push(new Vec2(i*1 + 700, 500));
        }
        var segment = sim.lineSegments(segs, 5);
        var pin = segment.pin(0);

        // animation loop
        var loop = function() {
            sim.frame(16);
            sim.draw();
            requestAnimFrame(loop);
        };

        loop();
    };


</script>
</body>